<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden;
        background: linear-gradient(to right, #ffecd2, #fcb69f);
    }

    h1 {
        margin-top: 120px;
        font-size: 40px;
    }

    button {
        font-size: 20px;
        padding: 12px 28px;
        margin: 20px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
    }

    #yes { background-color: #4CAF50; color: white; }
    #no {
        background-color: #f44336;
        color: white;
        position: absolute;
    }

    .page { display: none; }
    #page1 { display: block; }

    /* New Year Page */
    #page3 {
        background: black;
        color: white;
    }

    #newYearText {
        position: absolute;
        top: 20%;
        width: 100%;
        font-size: 60px;
        background: linear-gradient(90deg, gold, pink, cyan);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: glow 2s infinite alternate;
        z-index: 2;
    }

    @keyframes glow {
        from { text-shadow: 0 0 10px gold; }
        to { text-shadow: 0 0 30px cyan; }
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
    }
</style>
</head>

<body>

<!-- PAGE 1 -->
<div id="page1" class="page">
    <h1>Do you like me? ü§ç</h1>
    <button id="yes" onclick="goYes()">Yes</button>
    <button id="no" onmouseover="moveNo()">No</button>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
    <h1>I know you would click yes üåùü§ç</h1>
    <button onclick="goNewYear()">Click here now</button>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
    <h1 id="newYearText">üéâ HAPPY NEW YEAR üéâ</h1>
    <canvas id="fireworks"></canvas>
</div>

<script>
    function moveNo() {
        let x = Math.random() * (window.innerWidth - 120);
        let y = Math.random() * (window.innerHeight - 120);
        no.style.left = x + "px";
        no.style.top = y + "px";
    }

    function goYes() {
        page1.style.display = "none";
        page2.style.display = "block";
    }

    function goNewYear() {
        page2.style.display = "none";
        page3.style.display = "block";
        startFireworks();
    }

    // ===== REALISTIC CANVAS FIREWORKS =====
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let fireworks = [];

    class Firework {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height;
            this.targetY = Math.random() * canvas.height / 2;
            this.speed = 5 + Math.random() * 3;
            this.exploded = false;
            this.particles = [];
        }

        update() {
            if (!this.exploded) {
                this.y -= this.speed;
                if (this.y <= this.targetY) {
                    this.exploded = true;
                    this.createParticles();
                }
            }
            this.particles.forEach(p => p.update());
        }

        draw() {
            if (!this.exploded) {
                ctx.fillStyle = "white";
                ctx.fillRect(this.x, this.y, 2, 10);
            }
            this.particles.forEach(p => p.draw());
        }

        createParticles() {
            let colors = ["red", "yellow", "cyan", "pink", "orange"];
            for (let i = 0; i < 50; i++) {
                this.particles.push(new Particle(
                    this.x,
                    this.y,
                    colors[Math.floor(Math.random() * colors.length)]
                ));
            }
        }
    }

    class Particle {
        constructor(x, y, color) {
            this.x = x;
            this.y = y;
            this.color = color;
            this.radius = 2;
            this.speedX = (Math.random() - 0.5) * 6;
            this.speedY = (Math.random() - 0.5) * 6;
            this.life = 60;
        }

        update() {
            this.x += this.speedX;
            this.y += this.speedY;
            this.life--;
        }

        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();
        }
    }

    function startFireworks() {
        setInterval(() => {
            fireworks.push(new Firework());
        }, 600);

        function animate() {
            ctx.fillStyle = "rgba(0,0,0,0.2)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            fireworks.forEach((fw, index) => {
                fw.update();
                fw.draw();
                if (fw.exploded && fw.particles.every(p => p.life <= 0)) {
                    fireworks.splice(index, 1);
                }
            });
            requestAnimationFrame(animate);
        }
        animate();
    }
</script>

</body>
</html>